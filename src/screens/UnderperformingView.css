/* src/screens/UnderperformingView.css */

.underperforming-view-container {
  display: flex;
  flex-direction: column;
  padding: 24px;
  gap: 16px;
  height: calc(100vh - 120px); /* Adjust based on your header height */
  overflow: visible; /* FIXED: Changed from 'hidden' to 'visible' to allow scrolling */
}

.top-filters-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 16px;
  margin-bottom: 8px;
  flex-shrink: 0; /* Prevent filters from shrinking */
}

.left-filters, .right-filters {
  display: flex;
  align-items: center;
  gap: 16px;
}

.category-toggle {
    margin-bottom: 12px;
    flex-shrink: 0; /* Prevent tabs from shrinking */
}

/* --- GRID STRUCTURE --- */
.performance-grid-container {
    width: 100%;
    flex: 1; /* Allows it to fill available space */
    overflow-y: auto; /* Vertical scrolling for rows */
    overflow-x: auto; /* Horizontal scrolling for columns */
    padding-bottom: 8px;
}

.custom-grid-container {
  display: grid;
  /* Columns are defined dynamically in TS: Employee | Client/Task | Weeks... | Actions */
  min-width: fit-content; /* FIXED: Changed from fixed 1200px to fit-content */
  grid-auto-rows: minmax(80px, auto); /* Minimum row height */
}

.grid-header-row {
  display: contents; /* Allows child elements to act as grid items */
}

.grid-header-cell {
  background-color: #e8e8e8;
  color: #333;
  font-weight: 600;
  padding: 12px 16px;
  border: 1px solid #dcdcdc;
  position: sticky;
  top: 0;
  z-index: 10;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  font-size: 0.9rem;
}

.grid-body-row {
  display: contents;
}

.grid-card {
  background-color: #ffffff;
  border: 1px solid #e1e1e1;
  border-radius: 8px;
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  box-shadow: 0 1px 2px rgba(0,0,0,0.05);
  height: 100%; /* Makes cards in the same row the same height */
  text-align: left;
  align-items: flex-start;
  justify-content: center;
  font-size: 0.85rem;
}

/* --- NEW STYLES FOR WEEKLY PERFORMANCE CELL (SCORE + ACTION) --- */
.weekly-performance-card {
  /* Aligns Score and Action status vertically */
  display: flex;
  flex-direction: column;
  justify-content: center; /* Center content vertically */
  align-items: center; /* Center content horizontally */
  gap: 4px;
  padding: 12px; /* Slightly reduced padding */
}

.weekly-score-value {
  font-size: 1.1rem; /* Slightly larger score */
  font-weight: 700;
  color: #0078d4; /* Fluent Blue for score */
}

.weekly-action-status {
  font-size: 0.75rem; /* Smaller text for action status */
  font-weight: 500;
  padding: 2px 6px;
  border-radius: 4px;
}

.action-taken-yes {
    background-color: #4CAF50; /* Green background */
    color: white;
}

.action-taken-no {
    background-color: #f0f0f0; /* Light grey background */
    color: #606060;
}

/* --- FLAG BADGES (for score display) --- */
.flag-badge {
  padding: 4px 12px;
  border-radius: 4px;
  font-size: 0.8rem;
  font-weight: 600;
  text-align: center;
  display: inline-block;
  min-width: 60px;
}

.badge-great {
  background-color: #107c10;
  color: white;
}

.badge-good {
  background-color: #92c353;
  color: white;
}

.badge-normal {
  background-color: #8a8886;
  color: white;
}

.badge-low {
  background-color: #ffaa44;
  color: white;
}

.badge-critical {
  background-color: #d13438;
  color: white;
}

/* --- COMPLIANCE FLAGS (Background Styling for cards) --- */
.flag-critical {
  background-color: #ffeaea; /* Light red */
  border-left: 5px solid #d13438;
}

.flag-low {
  background-color: #fff9e6; /* Light yellow */
  border-left: 5px solid #ffaa44;
}

.flag-compliant {
  background-color: #f0fff0; /* Light green */
  border-left: 5px solid #107c10;
}

/* Style for action column buttons */
.grid-card button {
  width: 100%;
}